<databaseChangeLog
    xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
    xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd
    http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">
    <changeSet id="1" author="mrankin">
        <createTable tableName="event_log">
            <column name="id" type="integer" autoIncrement="true"><constraints nullable="false" primaryKeyName="pk_event_log" primaryKey="true"/> </column>
            <column name="created" type="datetime" defaultValueComputed="now()"><constraints nullable="false"/> </column>
            <column name="email" type="varchar(255)" defaultValue=""><constraints nullable="false"/> </column>
            <column name="filter" type="varchar(200)" defaultValue=""><constraints nullable="false"/> </column>
            <column name="action" type="varchar(200)" defaultValue=""><constraints nullable="false"/> </column>
            <column name="event" type="varchar(200)" defaultValue=""><constraints nullable="false"/> </column>
            <column name="severity" type="varchar(200)" defaultValue=""><constraints nullable="false"/> </column>
            <column name="detail" type="varchar(200)" defaultValue=""><constraints nullable="false"/> </column>
        </createTable>
    </changeSet>
    <changeSet id="2" author="mrankin">
        <sql>
            <![CDATA[
insert into auth_user (email, password_hash, salt, first_name, last_name, title, is_mfa_exempt)
values ('superuser@example.com',
        '1E1375E0D1190E5DC9E4A012B7A62433E947DF88FAB236B4283D1C85AC279B03929F254D926F3BE4F76857CC5134EFFB156308932F26F0F7EE891D6FB0849ECE',
        'u2^tdbj@6~zgrm@@~3@096p@$d4@^m59kg9^7j4@p^',
        'Super',
        'User',
        'System Administrator',
        1);
            ]]>
        </sql>
        <rollback>
            delete from auth_user where email = 'superuser@example.com';
        </rollback>
    </changeSet>
    <changeSet id="3" author="mrankin">
        <sql>
            <![CDATA[
insert into auth_user_group (email, group_id) VALUES ('superuser@example.com',1)
            ]]>
        </sql>
        <rollback>
            DELETE from auth_user_group where email = 'superuser@example.com' and group_id = 1;
        </rollback>
    </changeSet>
    <changeSet id="4" author="mrankin">
        <createTable tableName="us_state">
            <column name="code" type="varchar(3)"><constraints nullable="false" primaryKey="true" primaryKeyName="pk_us_states"/> </column>
            <column name="name" type="varchar(25)"><constraints nullable="false"/> </column>
        </createTable>
    </changeSet>
    <changeSet id="5" author="mrankin">
        <sql>
            <![CDATA[
INSERT INTO us_state (code,name) VALUES
('AL','Alabama'),
('AK','Alaska'),
('AZ','Arizona'),
('AR','Arkansas'),
('CA','California'),
('CO','Colorado'),
('CT','Connecticut'),
('DE','Delaware'),
('DC','District of Columbia'),
('FL','Florida'),
('GA','Georgia'),
('HI','Hawaii'),
('ID','Idaho'),
('IL','Illinois'),
('IN','Indiana'),
('IA','Iowa'),
('KS','Kansas'),
('KY','Kentucky'),
('LA','Louisiana'),
('ME','Maine'),
('MD','Maryland'),
('MA','Massachusetts'),
('MI','Michigan'),
('MN','Minnesota'),
('MS','Mississippi'),
('MO','Missouri'),
('MT','Montana'),
('NE','Nebraska'),
('NV','Nevadda'),
('NH','New Hampshire'),
('NJ','New Jersey'),
('NM','New Mexico'),
('NY','New York'),
('NC','North Carolina'),
('ND','North Dakota'),
('OH','Ohio'),
('OK','Oklahoma'),
('OR','Oregon'),
('PA','Pennsylvania'),
('PR','Puerto Rico'),
('RI','Rhode Island'),
('SC','South Carolian'),
('SD','South Dakota'),
('TN','Tennessee'),
('TX','Texas'),
('UT','Utah'),
('VT','Vermont'),
('VA','Virginia'),
('WA','Washington'),
('WV','West Virginia'),
('WI','Wisconsin'),
('WY','Wyoming')
            ]]>
        </sql>
        <rollback>
            DELETE FROM us_state;
        </rollback>
    </changeSet>
    <changeSet id="6" author="mrankin">
        <sql>
            <![CDATA[
insert into auth_policy (name, description, is_system) VALUES
('adminFull','Read/Write access to admin functions',1),
('developerFull','Read/Write access to the developer section',1)
            ]]>
        </sql>
        <rollback>
            DELETE from auth_policy where name in ('adminFull','developerFull');
        </rollback>
    </changeSet>
    <changeSet id="7" author="mrankin">
        <sql>
            <![CDATA[
insert into auth_group (id, name, description,is_system) values
(2,'developers', 'Developers of the application',1)
            ]]>
        </sql>
        <rollback>
            delete from auth_group where id = 2;
        </rollback>
    </changeSet>
    <changeSet id="8" author="mrankin">
        <sql>
            <![CDATA[
insert into auth_group_policy (policy_name,group_id) VALUES
('developerFull',2)
            ]]>
        </sql>
        <rollback>
            delete from auth_group_policy where policy_name = 'developerFull' and group_id = 2
        </rollback>
    </changeSet>
    <changeSet id="9" author="mrankin">
        <sql>
            <![CDATA[
insert into auth_user_group (email, group_id) values
('superuser@example.com', 2)
            ]]>
        </sql>
        <rollback>
            delete from auth_user_group where email='superuser@example.com' and group_id = 2
        </rollback>
    </changeSet>
</databaseChangeLog>